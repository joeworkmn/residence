<table class="display data-table-gem">
<thead>
   <tr>
      <th> Creator            </th>
      <% if local_assigns[:view] == :index %>
         <th> Apt. #             </th>
      <% end %>
      <th> Violations         </th>
      <th> Total Fine         </th>
      <th> Create At          </th>
      <th> Updated At         </th>
      <th> Paid?              </th>
      <th class='unsortable'> </th>
   </tr>
</thead>
<tbody>
   <% tickets.each do |t| %>
      <tr>
         <td> <%= t.staff.name                                        %> </td>
         <% if local_assigns[:view] == :index %>
         <td> <%= t.apartment.number %>             </td>
         <% end %>
         <td> <%= t.violations.map { |v| v.name }.join(', ')          %> </td>
         <td> <%= number_to_currency(t.total_fine)                    %> </td>
         <td> <%= t.created_at                                        %> </td>
         <td> <%= t.updated_at                                        %> </td>
         <td> <%= t.paid? ? "Yes" : "No"                              %> </td>
         <td> <%= link_to "details", t                                %> </td>
      </tr>
   <% end %>
</tbody>
</table>
